{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="card">
        <div class="card-header">
            <h2 class="mb-0">{{ problem.name }}</h2>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <h5>–°—Ç–∞—Ç—É—Å:</h5>
                        <span class="badge
                            {% if problem.status %}bg-primary{% else %}bg-secondary{% endif %}">
                            {{ problem.status.name|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}
                        </span>
                    </div>

                    <div class="mb-3">
                        <h5>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</h5>
                        <p>{{ problem.created_at|date:"d.m.Y H:i" }}</p>
                    </div>
                </div>

                <div class="col-md-6">
                    {% if problem.user %}
                    <div class="mb-3">
                        <h5>–ê–≤—Ç–æ—Ä:</h5>
                        <p>{{ problem.user.get_full_name|default:problem.user.username }}</p>
                    </div>
                    {% endif %}
                </div>
            </div>

            {% if problem.description %}
            <div class="mb-3">
                <h5>–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:</h5>
                <div class="p-3 rounded">
                    {{ problem.description|linebreaks }}
                </div>
            </div>
            {% endif %}

            <div class="d-flex justify-content-between mt-4">
                <a href="{% url 'problems:problems' %}" class="btn btn-secondary text-light">
                    ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
                </a>

                {% if request.user == problem.user or request.user.is_superuser %}
                <div>
                    <a href="{% url 'problems:problem_edit' problem.pk %}" class="btn btn-primary text-light">
                        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{% url 'problems:problem_delete' problem.pk %}" class="btn btn-danger text-light">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
        <div class="card-footer text-muted">
            –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {{ problem.updated_at|date:"d.m.Y H:i"|default:"–ù–µ –æ–±–Ω–æ–≤–ª—è–ª–æ—Å—å" }}
        </div>
    </div>
</div>
{% endblock %}